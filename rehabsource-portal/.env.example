# ============================================================================
# REHAB SOURCE PORTAL - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and configure for your environment
# NEVER commit .env to version control
# ============================================================================

# ----------------------------------------------------------------------------
# APPLICATION
# ----------------------------------------------------------------------------
APP_NAME="Rehab Source"
APP_URL="https://rehab-source.com"
APP_ENV=production
APP_DEBUG=false

# 32-character random key for encryption (generate with: openssl rand -hex 16)
APP_KEY=your-32-character-random-key-here

# Timezone
APP_TIMEZONE=Australia/Sydney

# ----------------------------------------------------------------------------
# DATABASE (MySQL 8)
# ----------------------------------------------------------------------------
DB_HOST=localhost
DB_PORT=3306
DB_DATABASE=rehabsource
DB_USERNAME=rehabsource_user
DB_PASSWORD=your-secure-database-password

# Connection settings
DB_CHARSET=utf8mb4
DB_COLLATION=utf8mb4_unicode_ci

# ----------------------------------------------------------------------------
# SMTP EMAIL
# ----------------------------------------------------------------------------
SMTP_HOST=mail.rehab-source.com
SMTP_PORT=465
SMTP_ENCRYPTION=ssl
SMTP_USERNAME=sendserver@rehab-source.com
SMTP_PASSWORD=your-smtp-password-here
SMTP_FROM_ADDRESS=no-reply@rehab-source.com
SMTP_FROM_NAME="Rehab Source"

# Email queue settings
EMAIL_QUEUE_ENABLED=true
EMAIL_MAX_RETRIES=3
EMAIL_RETRY_DELAY_SECONDS=300

# ----------------------------------------------------------------------------
# SECURITY
# ----------------------------------------------------------------------------
# Session settings
SESSION_LIFETIME_MINUTES=120
SESSION_SECURE_ONLY=true
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=Strict

# JWT settings (for API)
JWT_SECRET=your-64-character-jwt-secret-key-here
JWT_EXPIRY_MINUTES=60
JWT_REFRESH_EXPIRY_DAYS=30

# Rate limiting
RATE_LIMIT_AUTH_ATTEMPTS=5
RATE_LIMIT_AUTH_WINDOW_MINUTES=15
RATE_LIMIT_UPLOAD_REQUESTS=20
RATE_LIMIT_UPLOAD_WINDOW_MINUTES=60

# Password policy
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBER=true
PASSWORD_REQUIRE_SPECIAL=false

# Account lockout
LOCKOUT_THRESHOLD=5
LOCKOUT_DURATION_MINUTES=15

# CSRF token lifetime
CSRF_TOKEN_LIFETIME_MINUTES=60

# ----------------------------------------------------------------------------
# STORAGE
# ----------------------------------------------------------------------------
# Path outside web root for secure file storage
STORAGE_PATH=/home/cpaneluser/rehabsource_storage

# Subdirectories (relative to STORAGE_PATH)
STORAGE_UPLOADS=uploads
STORAGE_REPORTS=reports
STORAGE_CACHE=cache
STORAGE_LOGS=logs
STORAGE_KEYS=keys

# File upload settings
MAX_UPLOAD_SIZE_MB=5
ALLOWED_IMAGE_TYPES=jpg,jpeg,png,gif,webp
ALLOWED_DOCUMENT_TYPES=pdf,doc,docx,xls,xlsx

# ----------------------------------------------------------------------------
# PDF GENERATION
# ----------------------------------------------------------------------------
# Options: wkhtmltopdf, chromium
PDF_ENGINE=wkhtmltopdf
WKHTMLTOPDF_PATH=/usr/local/bin/wkhtmltopdf
CHROMIUM_PATH=/usr/bin/chromium-browser

# ----------------------------------------------------------------------------
# FEATURES (Feature Flags)
# ----------------------------------------------------------------------------
FEATURE_TELEHEALTH=false
FEATURE_MHR_INTEGRATION=false
FEATURE_MULTI_CLINIC=true
FEATURE_EQUIPMENT_MODULE=true
FEATURE_KNOWLEDGE_BASE=true
FEATURE_REVIEWS=true

# ----------------------------------------------------------------------------
# TELEHEALTH (if enabled)
# ----------------------------------------------------------------------------
JITSI_DOMAIN=meet.jit.si
JITSI_APP_ID=
JITSI_SECRET=

# ----------------------------------------------------------------------------
# MY HEALTH RECORD (Stub - not for production use)
# ----------------------------------------------------------------------------
MHR_ENVIRONMENT=test
MHR_ORGANISATION_ID=
MHR_HPI_O=

# ----------------------------------------------------------------------------
# LOGGING
# ----------------------------------------------------------------------------
LOG_LEVEL=warning
LOG_CHANNEL=file
LOG_MAX_FILES=30
LOG_MAX_SIZE_MB=50

# ----------------------------------------------------------------------------
# CACHING
# ----------------------------------------------------------------------------
CACHE_DRIVER=file
CACHE_PREFIX=rehabsource_

# ----------------------------------------------------------------------------
# ADMIN ACCESS RESTRICTIONS
# ----------------------------------------------------------------------------
# Comma-separated list of allowed IPs for admin panel
ADMIN_ALLOWED_IPS=127.0.0.1

# Enable HTTP Basic Auth for additional admin protection
ADMIN_BASIC_AUTH_ENABLED=true
ADMIN_BASIC_AUTH_USER=admin
ADMIN_BASIC_AUTH_PASSWORD=your-basic-auth-password

# ----------------------------------------------------------------------------
# DATA RETENTION
# ----------------------------------------------------------------------------
DATA_RETENTION_YEARS=5
AUDIT_LOG_RETENTION_YEARS=7

# ----------------------------------------------------------------------------
# MAINTENANCE
# ----------------------------------------------------------------------------
MAINTENANCE_MODE=false
MAINTENANCE_SECRET=your-maintenance-bypass-secret

# ----------------------------------------------------------------------------
# EXTERNAL INTEGRATIONS (Future)
# ----------------------------------------------------------------------------
# GOOGLE_MAPS_API_KEY=
# AHPRA_VERIFICATION_API_KEY=
